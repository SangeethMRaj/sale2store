<section class="vh-100 bg-image"
  style="background-image: url('https://mdbcdn.b-cdn.net/img/Photos/new-templates/search-box/img4.webp');">
  <div class="mask d-flex align-items-center h-100 gradient-custom-3">
    <div class="container h-100">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col-12 col-md-9 col-lg-7 col-xl-6">
          <div class="card" style="border-radius: 15px;">
            <div class="card-body p-5">
              <h2 class="text-uppercase text-center mb-5">Change Password</h2>

              <form action="/change-password" method="post">

                <div class="form-outline mb-4">
                  <label class="form-label" for="form3Example3cg">Email</label>
                  <input type="text" id="form3Example3cg" name="Email" class="form-control form-control-lg" onkeyup="validateemail()"/>
                  <span id="email-error" style="color:red ;"></span>
                </div>

                <div class="form-outline mb-4">
                    <label class="form-label" for="form3Example1cg">Current Password</label>
                  <input type="password" id="form3Example1cg" name="Password" class="form-control form-control-lg" onkeyup="validatepassword()"/> 
                  <span id="password-error" style="color:red ;"></span>
                </div>


                <div class="form-outline mb-4">
                     <label class="form-label" for="form3Example4cg">New Password</label>
                  <input type="password" id="form3Example4cg" name="NewPassword" class="form-control form-control-lg" onkeyup="validatenewpassword()"/> 
                   <span id="newpassword-error" style="color:red ;"></span>
                </div>

                <div class="form-outline mb-4">
                    <label class="form-label" for="form3Example4cdg">Confirm password</label>
                  <input type="password" id="form3Example4cdg" name="confirmpassword" class="form-control form-control-lg" onkeyup="validateconfirmpassword()"/>
                   <span id="confirmpassword-error" style="color:red ;"></span>
                </div>
                <span id="checkpassword-error" style="color:red ;"></span>

                

                <div class="d-flex justify-content-center">
                  <button type="submit"
                    class="btn btn-success btn-block btn-lg gradient-custom-4 text-body" onclick=" return validateform()">Save password</button>
                </div>
                <span id="submit-error" style="color:red ;"></span>
                

                

              </form>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<script>
    var emailError = document.getElementById('email-error')
    var passwordError = document.getElementById('password-error')
    var newpasswordError = document.getElementById('newpassword-error')
    var confirmpasswordError = document.getElementById('confirmpassword-error')
    var submitError = document.getElementById('submit-error')
    var passwordmatchError=document.getElementById('checkpassword-error')

    function validateemail() {
      var email = document.getElementById('form3Example3cg').value;

      if (/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{3}))$/.test(email)) {
        emailError.innerHTML = '';
        return true;
      }
      else {
        emailError.innerHTML = 'Email Invalid'
        return false;

      }
    }

   
    function validatenewpassword(){
      var newpassword=document.getElementById('form3Example4cg').value;
      if(newpassword.length==0){
        newpasswordError.innerHTML='Password is required'
        return false;
      }
      if(newpassword.length<8){
        newpasswordError.innerHTML='Password must be greater than 8'
        return false;
      }
      newpasswordError.innerHTML=''
      return true;
    }

     function validateconfirmpassword(){
      var confirmpassword=document.getElementById('form3Example4cdg').value;
      if(confirmpassword.length==0){
        confirmpasswordError.innerHTML='Password is required'
        return false;
      }
      confirmpasswordError.innerHTML=''
      return true;
    }
    function passwordmatch(){
      var password=document.getElementById('form3Example4cg').value;
      var confirmpassword=document.getElementById('form3Example4cdg').value;

      if(password!=confirmpassword){
        passwordmatchError.innerHTML='Password not match'
        return false;
      }
      passwordmatchError.innerHTML=''
      return true;
    } 

    function validateform(){
      if(!validateemail()||!validatenewpassword()||!validateconfirmpassword()||!passwordmatch()){
        submitError.innerHTML='Fill all the blanks'
        return false;
      } 
      
    }
</script>